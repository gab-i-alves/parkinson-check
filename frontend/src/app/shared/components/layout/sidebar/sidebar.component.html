<aside class="flex h-full w-64 flex-col border-r border-gray-200 bg-white">
  <div
    class="flex h-16 flex-shrink-0 items-center border-b border-gray-200 px-4"
  >
    <a routerLink="/dashboard" class="flex items-center space-x-3">
      <div
        class="flex h-10 w-10 items-center justify-center rounded-lg bg-violet-700"
      >
        <span class="text-xl font-bold text-white">P</span>
      </div>
      <h1 class="text-xl font-bold text-gray-800">ParkinsonCheck</h1>
    </a>
  </div>

  <nav class="flex flex-1 flex-col p-4">
    <ul class="space-y-1">
      @for (link of navLinks(); track link.path) {
      <li>
        @if (!link.disabled) {
        <a
          [routerLink]="link.path"
          routerLinkActive="bg-gray-100 text-primary"
          #rla="routerLinkActive"
          [routerLinkActiveOptions]="{ exact: true }"
          class="group flex items-center rounded-md px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900"
        >
          <span
            [class.text-primary]="rla.isActive"
            class="mr-3 h-6 w-6 text-gray-500 group-hover:text-gray-600"
          >
            @switch (link.icon) { @case ('home') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
              />
            </svg>
            } @case ('clipboard') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"
              />
            </svg>
            } @case ('chart') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 3v11.25A2.25 2.25 0 006 16.5h12A2.25 2.25 0 0020.25 14.25V3M3.75 14.25v-1.875a3.375 3.375 0 013.375-3.375h1.5a1.125 1.125 0 011.125 1.125v-1.5a3.375 3.375 0 013.375-3.375h1.5A2.25 2.25 0 0119.5 5.25v9.75m-16.5 0a2.25 2.25 0 002.25 2.25h12A2.25 2.25 0 0019.5 14.25m-16.5 0S2.25 16.5 5.25 16.5s3-2.25 3-2.25m4.5-3.375v4.125"
              />
            </svg>
            } @case ('users') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 12a4.5 4.5 0 004.5-4.5V4.5A4.5 4.5 0 0012 0v3h0a4.5 4.5 0 00-4.5 4.5v3A4.5 4.5 0 0012 12h0z"
              />
            </svg>
            } }
          </span>
          {{ link.label }}
        </a>
        } @else {
        <span
          class="group flex items-center rounded-md px-3 py-2 text-base font-medium text-gray-400 opacity-50 cursor-not-allowed"
          title="Funcionalidade em desenvolvimento"
        >
          <span class="mr-3 h-6 w-6 text-gray-400">
            @switch (link.icon) { @case ('home') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
              />
            </svg>
            } @case ('clipboard') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"
              />
            </svg>
            } @case ('chart') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 3v11.25A2.25 2.25 0 006 16.5h12A2.25 2.25 0 0020.25 14.25V3M3.75 14.25v-1.875a3.375 3.375 0 013.375-3.375h1.5a1.125 1.125 0 011.125 1.125v-1.5a3.375 3.375 0 013.375-3.375h1.5A2.25 2.25 0 0119.5 5.25v9.75m-16.5 0a2.25 2.25 0 002.25 2.25h12A2.25 2.25 0 0019.5 14.25m-16.5 0S2.25 16.5 5.25 16.5s3-2.25 3-2.25m4.5-3.375v4.125"
              />
            </svg>
            } @case ('users') {
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 12a4.5 4.5 0 004.5-4.5V4.5A4.5 4.5 0 0012 0v3h0a4.5 4.5 0 00-4.5 4.5v3A4.5 4.5 0 0012 12h0z"
              />
            </svg>
            } }
          </span>
          {{ link.label }}
        </span>
        }
      </li>
      }
    </ul>

    <ul class="mt-auto space-y-1 pt-4">
      <li>
        <a
          routerLink="/dashboard/notifications"
          routerLinkActive="bg-gray-100 text-primary"
          #rlaNotifications="routerLinkActive"
          class="group flex items-center justify-between rounded-md px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900"
        >
          <div class="flex items-center">
            <span
              [class.text-primary]="rlaNotifications.isActive"
              class="mr-3 h-6 w-6 text-gray-500 group-hover:text-gray-600"
            >
              <svg
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"
                />
              </svg>
            </span>
            Notificações
          </div>
          @if (notificationCount() > 0) {
          <span
            class="ml-auto inline-block rounded-full bg-primary py-0.5 px-2 text-xs font-semibold text-white"
          >
            {{ notificationCount() }}
          </span>
          }
        </a>
      </li>
      <li>
        <a
          routerLink="/dashboard/settings"
          routerLinkActive="bg-gray-100 text-primary"
          #rlaSettings="routerLinkActive"
          class="group flex items-center rounded-md px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900"
        >
          <span
            [class.text-primary]="rlaSettings.isActive"
            class="mr-3 h-6 w-6 text-gray-500 group-hover:text-gray-600"
          >
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.22 1.706 0 .55.219 1.02.684 1.11 1.226l.043.25a1.558 1.558 0 001.834 1.343l.266-.023c.616-.054 1.226.166 1.62.62s.576 1.004.522 1.62l-.023.266c-.094.654.166 1.308.62 1.834l.25.043c.542.09.918.443 1.156.918.238.475.238 1.043 0 1.518-.238.475-.614.828-1.156.918l-.25.043a1.558 1.558 0 00-.62 1.834l.023.266c.054.616-.166 1.226-.62 1.62s-1.004.576-1.62.522l-.266-.023a1.558 1.558 0 00-1.834-1.343l-.043-.25c-.09-.542-.56-1.007-1.11-1.226-.55-.22-1.156-.22-1.706 0-.55.219-1.02.684-1.11 1.226l-.043.25a1.558 1.558 0 00-1.834 1.343l-.266.023c-.616.054-1.226-.166-1.62-.62s-.576-1.004-.522-1.62l.023-.266c.094-.654-.166-1.308-.62-1.834l-.25-.043c-.542-.09-.918-.443-1.156-.918-.238-.475-.238-1.043 0-1.518.238.475.614.828-1.156.918l.25-.043a1.558 1.558 0 00.62-1.834l-.023-.266c-.054-.616.166 1.226.62-1.62s1.004-.576 1.62-.522l.266.023a1.558 1.558 0 001.834 1.343l.043.25z"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
              />
            </svg>
          </span>
          Configurações
        </a>
      </li>
    </ul>
  </nav>

  @if (user(); as currentUser) {
  <div
    class="flex flex-shrink-0 items-center space-x-3 border-t border-gray-200 p-4"
  >
    <div class="relative">
      <div
        class="h-10 w-10 flex items-center justify-center rounded-full bg-gray-200 text-gray-500 font-bold"
      >
        {{ currentUser.name.charAt(0).toUpperCase() }}
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <p class="truncate font-semibold text-gray-800">{{ currentUser.name }}</p>
      <p class="truncate text-sm text-gray-500">{{ currentUser.role }}</p>
    </div>
    <button
      (click)="logout()"
      title="Sair"
      class="flex-shrink-0 text-gray-500 hover:text-red-600"
    >
      <svg
        class="h-6 w-6"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"
        />
      </svg>
    </button>
  </div>
  }
</aside>
